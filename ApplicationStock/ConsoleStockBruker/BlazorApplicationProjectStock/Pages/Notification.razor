@page "/notifications"
@using AutoMapper
@using BlazorApplicationProjectStock.Map
@using ProjectStockLibrary
@using ProjectStockModels.APIReader.Services

@inject HttpClient Http

<PageTitle>Notifications</PageTitle>

<h1>Lists of Notifications</h1>



@if (notifs == null)
{
    <p><em>Loading...</em></p>
}
else
{
    <table class="table">
        <thead>
            <tr>
                <th>Id</th>
               
            </tr>
        </thead>
        <tbody>

                <tr>
                    <td>"salut"</td>
                   
                </tr>
      
            
        </tbody>
    </table>
}

@code {

    private static HttpClient httpClient { get; set;  } = new HttpClient();
    private static MapperConfiguration mapperConfiguration { get; } =  new MapperConfiguration(configuration =>{
        configuration.AddProfile(new TdoMapper());
    });


    private static IMapper mapper = new Mapper(mapperConfiguration);


    public static  NotificationServiceReader reader = new NotificationServiceReader(httpClient,mapper);
    private List<Notification>? notifs=  mapper.Map<List<Notification>>( reader.GetAll());
    

}
